<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PM Resume Refiner</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Hanken Grotesk", sans-serif;
        margin: 0;
        padding: 0;
      }
      @keyframes spin-reverse {
        from {
          transform: rotate(360deg);
        }
        to {
          transform: rotate(0deg);
        }
      }
      .animate-spin-reverse {
        animation: spin-reverse 1s linear infinite;
      }
      @keyframes dotPulse {
        0%,
        20% {
          content: ".";
        }
        40% {
          content: "..";
        }
        60%,
        100% {
          content: "...";
        }
      }
      .loading-dots::after {
        content: "";
        animation: dotPulse 1.5s infinite;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useRef, useEffect } = React;
      const { FileText, ChevronDown, ChevronRight, Copy, Check, RefreshCw } = {
        FileText: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            />
          </svg>
        ),
        ChevronDown: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M19 9l-7 7-7-7"
            />
          </svg>
        ),
        ChevronRight: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M9 5l7 7-7 7"
            />
          </svg>
        ),
        Copy: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
            />
          </svg>
        ),
        Check: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M5 13l4 4L19 7"
            />
          </svg>
        ),
        RefreshCw: (props) => (
          <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
            />
          </svg>
        ),
      };

      function PMResumeRefiner() {
        const [step, setStep] = useState("upload");
        const [processingMessage, setProcessingMessage] = useState(
          "Analyzing bullet points",
        );
        const [uploadedFile, setUploadedFile] = useState(null);
        const [resumeData, setResumeData] = useState(null);
        const [enhancedBullets, setEnhancedBullets] = useState([]);
        const [rubricScores, setRubricScores] = useState(null);
        const [isDragging, setIsDragging] = useState(false);
        const [resumePreview, setResumePreview] = useState(null);
        const [expandedCategories, setExpandedCategories] = useState({});
        const [copiedBullets, setCopiedBullets] = useState({});
        const [refreshCounts, setRefreshCounts] = useState({});
        const [isRefreshing, setIsRefreshing] = useState({});
        const [progress, setProgress] = useState(0);
        const fileInputRef = useRef(null);

        useEffect(() => {
          if (window.pdfjsLib) {
            window.pdfjsLib.GlobalWorkerOptions.workerSrc =
              "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
          }
        }, []);

        const fileToBase64 = (file) => {
          return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = () => resolve(reader.result.split(",")[1]);
            reader.onerror = reject;
            reader.readAsDataURL(file);
          });
        };

        const generateResumePreview = async (file) => {
          if (file.type === "application/pdf") {
            try {
              const arrayBuffer = await file.arrayBuffer();
              const typedArray = new Uint8Array(arrayBuffer);

              const pdf = await window.pdfjsLib.getDocument(typedArray).promise;
              const page = await pdf.getPage(1);

              const viewport = page.getViewport({ scale: 1.5 });
              const canvas = document.createElement("canvas");
              const context = canvas.getContext("2d");
              canvas.height = viewport.height;
              canvas.width = viewport.width;

              await page.render({
                canvasContext: context,
                viewport: viewport,
              }).promise;

              setResumePreview(canvas.toDataURL());
            } catch (error) {
              console.error("Error rendering PDF:", error);
              createPlaceholderPreview(file.name);
            }
          } else {
            createPlaceholderPreview(file.name);
          }
        };

        const createPlaceholderPreview = (filename) => {
          const canvas = document.createElement("canvas");
          canvas.width = 600;
          canvas.height = 800;
          const ctx = canvas.getContext("2d");

          ctx.fillStyle = "#ffffff";
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          ctx.fillStyle = "#333333";
          ctx.font = "bold 24px Hanken Grotesk, sans-serif";
          ctx.fillText("Resume Preview", 20, 50);

          ctx.font = "14px Hanken Grotesk, sans-serif";
          ctx.fillStyle = "#707070";
          ctx.fillText(filename, 20, 80);

          ctx.fillStyle = "#e5e5e5";
          for (let i = 0; i < 20; i++) {
            const y = 120 + i * 35;
            const width = Math.random() * 400 + 150;
            ctx.fillRect(20, y, width, 15);
            ctx.fillRect(20, y + 20, Math.random() * 300 + 100, 10);
          }

          setResumePreview(canvas.toDataURL());
        };

        const parseResumeWithAI = async (file) => {
          const base64Data = await fileToBase64(file);
          const fileType = file.type || "application/pdf";

          const response = await fetch("/api/enhance", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              action: "parseResume",
              data: { base64Data, fileType },
            }),
          });

          const { result } = await response.json();
          let resumeText = result
            .replace(/```json\n?/g, "")
            .replace(/```\n?/g, "")
            .trim();
          return JSON.parse(resumeText);
        };

        const enhanceBullet = async (bullet) => {
          const response = await fetch("/api/enhance", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              action: "enhanceBullet",
              data: { bullet },
            }),
          });

          const { result } = await response.json();
          let resultText = result
            .replace(/```json\n?/g, "")
            .replace(/```\n?/g, "")
            .trim();
          return JSON.parse(resultText);
        };

        const generateRubricScores = async (resumeData) => {
          const allBullets = resumeData.experiences.flatMap(
            (exp) => exp.bullets,
          );

          const response = await fetch("/api/enhance", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              action: "generateRubric",
              data: { bullets: allBullets },
            }),
          });

          const { result } = await response.json();
          let resultText = result
            .replace(/```json\n?/g, "")
            .replace(/```\n?/g, "")
            .trim();
          return JSON.parse(resultText);
        };

        const handleFileUpload = async (file) => {
          if (!file) return;

          if (file.type !== "application/pdf" && !file.name.match(/\.pdf$/i)) {
            alert(
              "Please upload a PDF file. Most recruiters expect this file type.",
            );
            return;
          }

          setUploadedFile(file);
          await generateResumePreview(file);
          setStep("processing");
          setProgress(0); // Reset progress

          const messages = [
            "Analyzing bullet points",
            "Evaluating PM resume standards",
            "Scoring impact and leadership",
            "Checking quantifiable results",
            "Assessing action verbs and clarity",
          ];

          let messageIndex = 0;
          const cycleMessages = setInterval(() => {
            setProcessingMessage(messages[messageIndex % messages.length]);
            messageIndex++;
          }, 4000);

          try {
            // Step 1: Parse resume (0% → 30%)
            setProgress(10);
            const parsed = await parseResumeWithAI(file);
            setResumeData(parsed);
            setProgress(30);

            // Step 2: Generate rubric (30% → 60%)
            setProgress(40);
            const rubric = await generateRubricScores(parsed);
            setRubricScores(rubric);
            setProgress(60);

            // Step 3: Enhance bullets (60% → 100%)
            const allBullets = parsed.experiences.flatMap((exp) => exp.bullets);
            const bulletsToEnhance = allBullets.slice(
              0,
              Math.min(5, allBullets.length),
            );

            const enhanced = [];
            const progressPerBullet = 40 / bulletsToEnhance.length;

            for (let i = 0; i < bulletsToEnhance.length; i++) {
              const bullet = bulletsToEnhance[i];
              const result = await enhanceBullet(bullet);
              enhanced.push({
                current: bullet,
                enhanced: result.enhanced,
              });
              setProgress(60 + (i + 1) * progressPerBullet);
            }

            setEnhancedBullets(enhanced);
            setProgress(100);

            clearInterval(cycleMessages);

            // Small delay to show 100% before transitioning
            setTimeout(() => {
              setStep("results");
            }, 300);
          } catch (error) {
            console.error("Error processing resume:", error);
            clearInterval(cycleMessages);
            alert("Error processing resume. Please try again.");
            setStep("upload");
            setProgress(0);
          }
        };

        const toggleCategory = (categoryName) => {
          setExpandedCategories((prev) => ({
            ...prev,
            [categoryName]: !prev[categoryName],
          }));
        };

        const copyToClipboard = async (text, index) => {
          try {
            await navigator.clipboard.writeText(text);
            setCopiedBullets((prev) => ({ ...prev, [index]: true }));
            setTimeout(() => {
              setCopiedBullets((prev) => ({ ...prev, [index]: false }));
            }, 2000);
          } catch (err) {
            console.error("Failed to copy:", err);
          }
        };

        const refreshBullet = async (originalBullet, index) => {
          const currentCount = refreshCounts[index] || 0;
          if (currentCount >= 2) return;

          setIsRefreshing((prev) => ({ ...prev, [index]: true }));

          try {
            const result = await enhanceBullet(originalBullet);

            setEnhancedBullets((prev) =>
              prev.map((bullet, i) =>
                i === index ? { ...bullet, enhanced: result.enhanced } : bullet,
              ),
            );

            setRefreshCounts((prev) => ({
              ...prev,
              [index]: currentCount + 1,
            }));
          } catch (error) {
            console.error("Failed to refresh:", error);
            alert("Failed to refresh bullet. Please try again.");
          } finally {
            setIsRefreshing((prev) => ({ ...prev, [index]: false }));
          }
        };

        const handleDrop = (e) => {
          e.preventDefault();
          e.stopPropagation();
          setIsDragging(false);

          const files = e.dataTransfer.files;
          if (files && files.length > 0) {
            handleFileUpload(files[0]);
          }
        };

        const handleDragOver = (e) => {
          e.preventDefault();
          e.stopPropagation();
          if (!isDragging) setIsDragging(true);
        };

        const handleDragEnter = (e) => {
          e.preventDefault();
          e.stopPropagation();
          setIsDragging(true);
        };

        const handleDragLeave = (e) => {
          e.preventDefault();
          e.stopPropagation();

          const rect = e.currentTarget.getBoundingClientRect();
          const x = e.clientX;
          const y = e.clientY;

          if (
            x <= rect.left ||
            x >= rect.right ||
            y <= rect.top ||
            y >= rect.bottom
          ) {
            setIsDragging(false);
          }
        };

        return (
          <div
            style={{ fontFamily: "'Hanken Grotesk', sans-serif" }}
            className="bg-white flex flex-col items-start h-screen w-full"
          >
            {/* Navigation */}
            <div
              className="bg-white border-b border-neutral-200 flex items-center justify-between w-full"
              style={{ padding: "16px 24px" }}
            >
              <div className="flex items-center gap-4">
                <div
                  className="text-2xl font-bold"
                  style={{ color: "#15b078" }}
                >
                  Leland
                </div>
              </div>
            </div>

            {/* Body */}
            <div
              className="flex-1 flex items-start justify-center w-full overflow-auto"
              style={{
                padding: "36px max(24px, calc((100vw - 936px) / 2))",
              }}
            >
              <div
                className="flex flex-col w-full"
                style={{ maxWidth: "936px", gap: "36px" }}
              >
                {/* Heading */}
                <div className="flex flex-col w-full">
                  <h1
                    className="text-2xl font-medium leading-8"
                    style={{ color: "#333333" }}
                  >
                    PM Resume Refiner
                  </h1>
                  <p
                    className="text-base font-medium leading-6"
                    style={{ color: "#707070" }}
                  >
                    Upload your resume. Get instant, expert feedback on your
                    bullet points.
                  </p>
                </div>

                {/* Main Content Area */}
                {step === "upload" && (
                  <div
                    className="border-2 rounded-lg flex flex-col items-center justify-center cursor-pointer transition-all w-full"
                    style={{
                      padding: "112px 24px",
                      borderColor: isDragging ? "#15b078" : "#e5e5e5",
                      backgroundColor: isDragging ? "#e3f6ef" : "#ffffff",
                      borderStyle: isDragging ? "dashed" : "solid",
                    }}
                    onDrop={handleDrop}
                    onDragOver={handleDragOver}
                    onDragEnter={handleDragEnter}
                    onDragLeave={handleDragLeave}
                    onClick={() => fileInputRef.current?.click()}
                  >
                    <input
                      ref={fileInputRef}
                      type="file"
                      accept=".pdf"
                      onChange={(e) => {
                        const file = e.target.files?.[0];
                        if (file) handleFileUpload(file);
                      }}
                      style={{ display: "none" }}
                    />
                    <div
                      className="flex flex-col items-center"
                      style={{
                        gap: "8px",
                        width: "190px",
                        pointerEvents: "none",
                      }}
                    >
                      <FileText
                        width={48}
                        height={48}
                        style={{ color: "#9E9E9E" }}
                      />
                      <div
                        className="flex flex-col items-center text-center"
                        style={{ gap: "2px", width: "100%" }}
                      >
                        <p
                          className="text-base font-medium leading-6"
                          style={{ color: "#333333" }}
                        >
                          Drop in your resume
                        </p>
                        <p
                          className="text-xs font-normal leading-4"
                          style={{ color: "#707070" }}
                        >
                          upload a .PDF file
                        </p>
                      </div>
                    </div>
                  </div>
                )}

                {step === "processing" && (
                  <div
                    className="relative rounded-lg w-full border-2 border-solid"
                    style={{
                      backgroundColor: "#e3f6ef",
                      borderColor: "#c4ebdd",
                    }}
                  >
                    <div
                      className="flex flex-col items-center w-full"
                      style={{ padding: "40px 24px 0 24px" }}
                    >
                      <div className="w-full max-w-sm" style={{ gap: "8px" }}>
                        <div
                          className="w-full rounded-full overflow-hidden"
                          style={{
                            height: "8px",
                            backgroundColor: "#c4ebdd",
                          }}
                        >
                          <div
                            className="h-full transition-all duration-500 ease-out rounded-full"
                            style={{
                              width: `${progress}%`,
                              backgroundColor: "#15b078",
                            }}
                          />
                        </div>
                      </div>
                      <p
                        className="text-base font-medium text-center mt-2 mb-8 loading-dots"
                        style={{ color: "#333333" }}
                      >
                        {processingMessage}
                      </p>
                      {resumePreview && (
                        <div
                          className="rounded-t-lg overflow-hidden"
                          style={{
                            width: "364px",
                            height: "280px",
                            position: "relative",
                            boxShadow: "0 2px 6px -1px rgba(0, 0, 0, 0.15)",
                          }}
                        >
                          <img
                            src={resumePreview}
                            alt="Resume preview"
                            style={{
                              width: "364px",
                              height: "auto",
                              objectFit: "cover",
                              objectPosition: "top",
                            }}
                          />
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {step === "results" && rubricScores && (
                  <div className="flex flex-col" style={{ gap: "24px" }}>
                    <div
                      className="border rounded-lg flex flex-col lg:flex-row items-start lg:items-start items-center w-full"
                      style={{
                        borderColor: "#e5e5e5",
                        padding: "24px",
                        gap: "24px",
                      }}
                    >
                      <div
                        className="flex flex-col w-full lg:flex-1"
                        style={{ gap: "12px" }}
                      >
                        <div
                          className="flex items-center justify-between"
                          style={{ paddingBottom: "12px" }}
                        >
                          <h3
                            className="text-xl font-medium leading-6"
                            style={{ color: "#333333" }}
                          >
                            Your Resume Score
                          </h3>
                          <div
                            className="flex items-baseline"
                            style={{ gap: "2px" }}
                          >
                            <span
                              className="text-2xl font-bold"
                              style={{
                                color: "#15b078",
                              }}
                            >
                              {rubricScores.overall}
                            </span>
                            <span
                              className="text-base font-medium"
                              style={{
                                color: "#707070",
                              }}
                            >
                              /100
                            </span>
                          </div>
                        </div>

                        <div
                          className="w-full"
                          style={{ height: "1px", backgroundColor: "#e5e5e5" }}
                        ></div>

                        {/* Rubric Categories */}
                        <div className="flex flex-col" style={{ gap: "8px" }}>
                          {rubricScores.categories.map((category, idx) => (
                            <div
                              key={idx}
                              className="flex flex-col"
                              style={{ gap: "4px" }}
                            >
                              <div
                                className="flex items-center justify-between cursor-pointer rounded p-2 transition-colors"
                                style={{
                                  backgroundColor: expandedCategories[
                                    category.name
                                  ]
                                    ? "#f5f5f5"
                                    : "transparent",
                                }}
                                onClick={() => toggleCategory(category.name)}
                              >
                                <div
                                  className="flex items-center"
                                  style={{ gap: "8px" }}
                                >
                                  {expandedCategories[category.name] ? (
                                    <ChevronDown
                                      width={18}
                                      height={18}
                                      style={{ color: "#707070" }}
                                    />
                                  ) : (
                                    <ChevronRight
                                      width={18}
                                      height={18}
                                      style={{ color: "#707070" }}
                                    />
                                  )}
                                  <span
                                    className="text-sm font-medium"
                                    style={{ color: "#333333" }}
                                  >
                                    {category.name}
                                  </span>
                                </div>
                                <span
                                  className="text-sm font-medium"
                                  style={{ color: "#15b078" }}
                                >
                                  {category.score}/100
                                </span>
                              </div>
                              {expandedCategories[category.name] && (
                                <p
                                  className="text-sm font-normal leading-5 ml-7"
                                  style={{ color: "#707070" }}
                                >
                                  {category.feedback}
                                </p>
                              )}
                            </div>
                          ))}
                        </div>
                      </div>

                      <div
                        className="rounded-lg border flex items-center justify-center"
                        style={{
                          backgroundColor: "#e3f6ef",
                          borderColor: "#c4ebdd",
                          padding: "12px",
                          alignSelf: "center lg:self-start",
                        }}
                      >
                        {resumePreview ? (
                          <img
                            src={resumePreview}
                            alt="Resume preview"
                            className="rounded"
                            style={{
                              width: "auto",
                              height: "100%",
                              maxWidth: "182px",
                              objectFit: "contain",
                              boxShadow: "0 2px 6px -1px rgba(0, 0, 0, 0.15)",
                            }}
                          />
                        ) : (
                          <div className="rounded flex items-center justify-center">
                            <FileText
                              width={48}
                              height={48}
                              style={{ color: "#9E9E9E" }}
                            />
                          </div>
                        )}
                      </div>
                    </div>
                    {/* Bullets to Improve Section */}
                    <div className="flex flex-col mb-4" style={{ gap: "12px" }}>
                      <div className="flex flex-col" style={{ gap: "2px" }}>
                        <h3
                          className="text-xl font-medium leading-6"
                          style={{ color: "#333333" }}
                        >
                          Bullets to Improve
                        </h3>
                      </div>

                      {enhancedBullets.map((bullet, idx) => (
                        <div
                          key={idx}
                          className="flex flex-col"
                          style={{
                            gap: "4px",
                            marginBottom:
                              idx < enhancedBullets.length - 1 ? "24px" : "0",
                          }}
                        >
                          <p
                            className="text-sm font-normal leading-5"
                            style={{ color: "#707070" }}
                          >
                            Current
                          </p>
                          <div
                            className="border rounded-lg"
                            style={{ borderColor: "#e5e5e5", padding: "12px" }}
                          >
                            <p
                              className="text-base font-normal leading-6"
                              style={{ color: "#333333" }}
                            >
                              {bullet.current}
                            </p>
                          </div>

                          <div
                            className="flex items-center justify-between"
                            style={{ marginTop: "8px" }}
                          >
                            <p
                              className="text-sm font-normal leading-5"
                              style={{ color: "#707070" }}
                            >
                              Enhanced
                            </p>
                            <div className="flex items-center gap-2">
                              {/* Refresh Button */}
                              <button
                                onClick={() =>
                                  refreshBullet(bullet.current, idx)
                                }
                                disabled={
                                  (refreshCounts[idx] || 0) >= 2 ||
                                  isRefreshing[idx]
                                }
                                className="flex items-center gap-1 px-2 py-1 rounded transition-all disabled:opacity-40 disabled:cursor-not-allowed"
                                style={{
                                  color: "#707070",
                                  backgroundColor: "white",
                                  border: "1px solid #e5e5e5",
                                }}
                                title={
                                  (refreshCounts[idx] || 0) >= 2
                                    ? "Maximum refreshes reached"
                                    : `${2 - (refreshCounts[idx] || 0)} refreshes remaining`
                                }
                              >
                                <RefreshCw
                                  width={16}
                                  height={16}
                                  className={
                                    isRefreshing[idx]
                                      ? "animate-spin-reverse"
                                      : ""
                                  }
                                />
                                <span className="text-xs">
                                  {isRefreshing[idx]
                                    ? "..."
                                    : `Refresh (${2 - (refreshCounts[idx] || 0)})`}
                                </span>
                              </button>

                              {/* Copy Button */}
                              <button
                                onClick={() =>
                                  copyToClipboard(bullet.enhanced, idx)
                                }
                                className="flex items-center gap-1 px-2 py-1 rounded transition-colors"
                                style={{
                                  color: copiedBullets[idx]
                                    ? "#15b078"
                                    : "#707070",
                                  backgroundColor: copiedBullets[idx]
                                    ? "#e3f6ef"
                                    : "transparent",
                                  border: "1px solid #e5e5e5",
                                }}
                              >
                                {copiedBullets[idx] ? (
                                  <Check width={16} height={16} />
                                ) : (
                                  <Copy width={16} height={16} />
                                )}
                                <span className="text-xs">
                                  {copiedBullets[idx] ? "Copied!" : "Copy"}
                                </span>
                              </button>
                            </div>
                          </div>
                          <div
                            className="border rounded-lg"
                            style={{ borderColor: "#15b078", padding: "12px" }}
                          >
                            <p
                              className="text-base font-medium leading-6"
                              style={{ color: "#333333" }}
                            >
                              {bullet.enhanced}
                            </p>
                          </div>
                        </div>
                      ))}
                    </div>
                    <div className="flex flex-col" style={{ gap: "16px" }}>
                      <h3
                        className="text-xl font-medium leading-6"
                        style={{ color: "#333333" }}
                      >
                        Recommended Resources on Leland+
                      </h3>

                      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full">
                        {/* Card 1 - ADDED <a TAG */}
                        <a
                          href="https://www.joinleland.com/content/item/urn:contentEntry:689c2f51f466092f7b1e534a"
                          target="_blank"
                          rel="noopener noreferrer"
                          className="border rounded-lg overflow-hidden transition-all hover:shadow-md hover:border-gray-300"
                          style={{
                            borderColor: "#e5e5e5",
                            backgroundColor: "#ffffff",
                            textDecoration: "none",
                            display: "flex",
                            flexDirection: "column",
                          }}
                        >
                          <div
                            style={{
                              aspectRatio: "16/9",
                              overflow: "hidden",
                              backgroundColor: "#f5f5f5",
                            }}
                          >
                            <img
                              src="https://www.joinleland.com/_next/image?url=https%3A%2F%2Fleland-plus-uploads.joinleland.com%2Fuploads%2Fimage%2Fpng%2F49ef56d7-0e22-4a99-bd87-1fab63ecffbc.png&w=384&q=75"
                              alt="Leland Product Management Resume Guide"
                              style={{
                                width: "100%",
                                height: "100%",
                                objectFit: "cover",
                              }}
                            />
                          </div>
                          <div
                            className="flex flex-col justify-between flex-1"
                            style={{ padding: "16px", gap: "8px" }}
                          >
                            <div
                              className="flex flex-col"
                              style={{ gap: "4px" }}
                            >
                              <h4
                                className="text-sm font-medium leading-5"
                                style={{ color: "#333333" }}
                              >
                                Leland Product Management Resume Guide
                              </h4>
                              <p
                                className="text-xs font-normal leading-4"
                                style={{ color: "#707070" }}
                              >
                                Everything you need to know about how to write
                                the perfect PM resume
                              </p>
                            </div>
                            <div
                              className="flex items-center justify-between"
                              style={{ marginTop: "8px" }}
                            >
                              <span
                                className="text-xs font-medium"
                                style={{ color: "#707070" }}
                              >
                                Leland Team
                              </span>
                              <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#707070"
                                strokeWidth="2"
                              >
                                <path
                                  strokeLinecap="round"
                                  strokeLinejoin="round"
                                  d="M9 5l7 7-7 7"
                                />
                              </svg>
                            </div>
                          </div>
                        </a>

                        {/* Card 2 - ADDED <a TAG */}
                        <a
                          href="https://www.joinleland.com/content/item/urn:contentEntry:689626784e1a80e8ce421084"
                          target="_blank"
                          rel="noopener noreferrer"
                          className="border rounded-lg overflow-hidden transition-all hover:shadow-md hover:border-gray-300"
                          style={{
                            borderColor: "#e5e5e5",
                            backgroundColor: "#ffffff",
                            textDecoration: "none",
                            display: "flex",
                            flexDirection: "column",
                          }}
                        >
                          <div
                            style={{
                              aspectRatio: "16/9",
                              overflow: "hidden",
                              backgroundColor: "#f5f5f5",
                            }}
                          >
                            <img
                              src="https://www.joinleland.com/_next/image?url=https%3A%2F%2Fleland-plus-uploads.joinleland.com%2Fuploads%2Fimage%2Fpng%2Fa8f94825-3904-4880-956e-d26ccd6ce0bc.png&w=384&q=75"
                              alt="Template: A Winning Resume for a Product Manager Role"
                              style={{
                                width: "100%",
                                height: "100%",
                                objectFit: "cover",
                              }}
                            />
                          </div>
                          <div
                            className="flex flex-col justify-between flex-1"
                            style={{ padding: "16px", gap: "8px" }}
                          >
                            <div
                              className="flex flex-col"
                              style={{ gap: "4px" }}
                            >
                              <h4
                                className="text-sm font-medium leading-5"
                                style={{ color: "#333333" }}
                              >
                                Template: A Winning Resume for a Product Manager
                                Role
                              </h4>
                              <p
                                className="text-xs font-normal leading-4"
                                style={{ color: "#707070" }}
                              >
                                Use this template to craft a resume that stands
                                out
                              </p>
                            </div>
                            <div
                              className="flex items-center justify-between"
                              style={{ marginTop: "8px" }}
                            >
                              <span
                                className="text-xs font-medium"
                                style={{ color: "#707070" }}
                              >
                                Alejandro B.
                              </span>
                              <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#707070"
                                strokeWidth="2"
                              >
                                <path
                                  strokeLinecap="round"
                                  strokeLinejoin="round"
                                  d="M9 5l7 7-7 7"
                                />
                              </svg>
                            </div>
                          </div>
                        </a>

                        {/* Card 3 - ADDED <a TAG */}
                        <a
                          href="https://www.joinleland.com/content/item/urn:contentEntry:689b738f36fcb334fafee972"
                          target="_blank"
                          rel="noopener noreferrer"
                          className="border rounded-lg overflow-hidden transition-all hover:shadow-md hover:border-gray-300"
                          style={{
                            borderColor: "#e5e5e5",
                            backgroundColor: "#ffffff",
                            textDecoration: "none",
                            display: "flex",
                            flexDirection: "column",
                          }}
                        >
                          <div
                            style={{
                              aspectRatio: "16/9",
                              overflow: "hidden",
                              backgroundColor: "#f5f5f5",
                            }}
                          >
                            <img
                              src="https://www.joinleland.com/_next/image?url=https%3A%2F%2Fleland-plus-uploads.joinleland.com%2Fuploads%2Fimage%2Fpng%2F473070ef-27a4-407e-a22c-2cddc5adce3c.png&w=256&q=75"
                              alt="APM Resume Template"
                              style={{
                                width: "100%",
                                height: "100%",
                                objectFit: "cover",
                              }}
                            />
                          </div>
                          <div
                            className="flex flex-col justify-between flex-1"
                            style={{ padding: "16px", gap: "8px" }}
                          >
                            <div
                              className="flex flex-col"
                              style={{ gap: "4px" }}
                            >
                              <h4
                                className="text-sm font-medium leading-5"
                                style={{ color: "#333333" }}
                              >
                                APM Resume Template
                              </h4>
                              <p
                                className="text-xs font-normal leading-4"
                                style={{ color: "#707070" }}
                              >
                                Craft a resume like grads used to land APM roles
                                at top companies
                              </p>
                            </div>
                            <div
                              className="flex items-center justify-between"
                              style={{ marginTop: "8px" }}
                            >
                              <span
                                className="text-xs font-medium"
                                style={{ color: "#707070" }}
                              >
                                Simone A.
                              </span>
                              <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#707070"
                                strokeWidth="2"
                              >
                                <path
                                  strokeLinecap="round"
                                  strokeLinejoin="round"
                                  d="M9 5l7 7-7 7"
                                />
                              </svg>
                            </div>
                          </div>
                        </a>

                        {/* Card 4 - ADDED <a TAG */}
                        <a
                          href="https://www.joinleland.com/content/item/urn:contentEntry:68962fa34e1a80e8ce423578"
                          target="_blank"
                          rel="noopener noreferrer"
                          className="border rounded-lg overflow-hidden transition-all hover:shadow-md hover:border-gray-300"
                          style={{
                            borderColor: "#e5e5e5",
                            backgroundColor: "#ffffff",
                            textDecoration: "none",
                            display: "flex",
                            flexDirection: "column",
                          }}
                        >
                          <div
                            style={{
                              aspectRatio: "16/9",
                              overflow: "hidden",
                              backgroundColor: "#f5f5f5",
                            }}
                          >
                            <img
                              src="https://www.joinleland.com/_next/image?url=https%3A%2F%2Fleland-plus-uploads.joinleland.com%2Fuploads%2Fimage%2Fpng%2F59d1d157-0a72-459f-9d31-a94c1cf40627.png&w=256&q=75"
                              alt="Big Tech PM Resume: The Winning Sample"
                              style={{
                                width: "100%",
                                height: "100%",
                                objectFit: "cover",
                              }}
                            />
                          </div>
                          <div
                            className="flex flex-col justify-between flex-1"
                            style={{ padding: "16px", gap: "8px" }}
                          >
                            <div
                              className="flex flex-col"
                              style={{ gap: "4px" }}
                            >
                              <h4
                                className="text-sm font-medium leading-5"
                                style={{ color: "#333333" }}
                              >
                                Big Tech PM Resume: The Winning Sample
                              </h4>
                              <p
                                className="text-xs font-normal leading-4"
                                style={{ color: "#707070" }}
                              >
                                See what a successful Big Tech PM resume looks
                                like
                              </p>
                            </div>
                            <div
                              className="flex items-center justify-between"
                              style={{ marginTop: "8px" }}
                            >
                              <span
                                className="text-xs font-medium"
                                style={{ color: "#707070" }}
                              >
                                Ziam H.
                              </span>
                              <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="#707070"
                                strokeWidth="2"
                              >
                                <path
                                  strokeLinecap="round"
                                  strokeLinejoin="round"
                                  d="M9 5l7 7-7 7"
                                />
                              </svg>
                            </div>
                          </div>
                        </a>
                      </div>
                    </div>
                  </div>
                )}

                {/* Social Proof Section - MOVED HERE */}
                <div
                  className="flex flex-col items-center w-full"
                  style={{ gap: "24px", padding: "32px 0" }}
                >
                  <p
                    className="text-sm font-medium tracking-wide"
                    style={{ color: "#9E9E9E", letterSpacing: "0.08em" }}
                  >
                    TRAINED ON RESUMES FROM
                  </p>
                  <div
                    className="flex items-center justify-center flex-wrap w-full"
                    style={{ gap: "48px" }}
                  >
                    {/* Meta Logo */}
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 948 191"
                      width="120"
                      height="40"
                      fill="#707070"
                    >
                      <path d="m31.06,125.96c0,10.98 2.41,19.41 5.56,24.51 4.13,6.68 10.29,9.51 16.57,9.51 8.1,0 15.51-2.01 29.79-21.76 11.44-15.83 24.92-38.05 33.99-51.98l15.36-23.6c10.67-16.39 23.02-34.61 37.18-46.96 11.56-10.08 24.03-15.68 36.58-15.68 21.07,0 41.14,12.21 56.5,35.11 16.81,25.08 24.97,56.67 24.97,89.27 0,19.38-3.82,33.62-10.32,44.87-6.28,10.88-18.52,21.75-39.11,21.75l0-31.02c17.63,0 22.03-16.2 22.03-34.74 0-26.42-6.16-55.74-19.73-76.69-9.63-14.86-22.11-23.94-35.84-23.94-14.85,0-26.8,11.2-40.23,31.17-7.14,10.61-14.47,23.54-22.7,38.13l-9.06,16.05c-18.2,32.27-22.81,39.62-31.91,51.75-15.95,21.24-29.57,29.29-47.5,29.29-21.27,0-34.72-9.21-43.05-23.09-6.8-11.31-10.14-26.15-10.14-43.06z" />
                      <path d="m24.49,37.3c14.24-21.95 34.79-37.3 58.36-37.3 13.65,0 27.22,4.04 41.39,15.61 15.5,12.65 32.02,33.48 52.63,67.81l7.39,12.32c17.84,29.72 27.99,45.01 33.93,52.22 7.64,9.26 12.99,12.02 19.94,12.02 17.63,0 22.03-16.2 22.03-34.74l27.4-.86c0,19.38-3.82,33.62-10.32,44.87-6.28,10.88-18.52,21.75-39.11,21.75-12.8,0-24.14-2.78-36.68-14.61-9.64-9.08-20.91-25.21-29.58-39.71l-25.79-43.08c-12.94-21.62-24.81-37.74-31.68-45.04-7.39-7.85-16.89-17.33-32.05-17.33-12.27,0-22.69,8.61-31.41,21.78z" />
                      <path d="m82.35,31.23c-12.27,0-22.69,8.61-31.41,21.78-12.33,18.61-19.88,46.33-19.88,72.95 0,10.98 2.41,19.41 5.56,24.51l-26.48,17.44c-6.8-11.31-10.14-26.15-10.14-43.06 0-30.75 8.44-62.8 24.49-87.55 14.24-21.95 34.79-37.3 58.36-37.3z" />
                      <path
                        d="m347.94,6.04h35.93l61.09,110.52 61.1-110.52h35.15v181.6h-29.31v-139.18l-53.58,96.38h-27.5l-53.57-96.38v139.18h-29.31z
                    m285.11,67.71c-21.02,0-33.68,15.82-36.71,35.41h71.34c-1.47-20.18-13.11-35.41-34.63-35.41z
                    m-65.77,46.57c0-41.22 26.64-71.22 66.28-71.22 38.99,0 62.27,29.62 62.27,73.42v8.05h-99.49c3.53,21.31 17.67,35.67 40.47,35.67 18.19,0 29.56-5.55 40.34-15.7l15.57,19.07c-14.67,13.49-33.33,21.27-56.95,21.27-42.91,0-68.49-31.29-68.49-70.56z
                    m164.09-43.97h-26.98v-24h26.98v-39.69h28.28v39.69h40.99v24h-40.99v60.83c0,20.77 6.64,28.15 22.96,28.15 7.45,0 11.72-.64 18.03-1.69v23.74c-7.86,2.22-15.36,3.24-23.48,3.24-30.53,0-45.79-16.68-45.79-50.07z
                    m188.35,23.34c-5.68-14.34-18.35-24.9-36.97-24.9-24.2,0-39.69,17.17-39.69,45.14 0,27.27 14.26,45.27 38.53,45.27 19.08,0 32.7-11.1 38.13-24.91z
                    m28.28,87.95h-27.76v-18.94c-7.76,11.15-21.88,22.18-44.75,22.18-36.78,0-61.36-30.79-61.36-70.95 0-40.54 25.17-70.83 62.92-70.83 18.66,0 33.3,7.46 43.19,20.63v-17.38h27.76z"
                      />
                    </svg>

                    {/* LinkedIn Logo */}
                    <svg
                      width="120"
                      height="40"
                      viewBox="0 0 264.58332 66.145835"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="#707070"
                    >
                      <g transform="translate(171.37441,202.2851)">
                        <g transform="matrix(3.1498015,0,0,3.1498015,-171.37441,-202.2851)">
                          <g>
                            <g>
                              <g fillRule="evenodd">
                                <path d="M 82.479,0 H 64.583 C 63.727,0 63,0.677 63,1.511 V 19.488 C 63,20.323 63.477,21 64.333,21 H 82.229 C 83.086,21 84,20.323 84,19.488 V 1.511 C 84,0.677 83.336,0 82.479,0 Z M 71,8 h 2.827 v 1.441 h 0.031 C 74.289,8.664 75.562,7.875 77.136,7.875 80.157,7.875 81,9.479 81,12.45 V 18 H 78 V 12.997 C 78,11.667 77.469,10.5 76.227,10.5 74.719,10.5 74,11.521 74,13.197 V 18 h -3 z m -5,10 h 3 V 8 H 66 Z M 69.375,4.5 A 1.8745001,1.8745001 0 1 1 65.626,4.501 1.8745001,1.8745001 0 0 1 69.375,4.5 Z" />
                              </g>
                              <g>
                                <path d="m 60,18 h -2.8 v -1.191 h -0.03 c -0.623,0.722 -1.705,1.316 -3.539,1.316 -2.5,0 -4.653,-1.881 -4.653,-5.114 0,-3.08 2.122,-5.136 4.747,-5.136 1.625,0 2.634,0.578 3.245,1.316 H 57 V 3 h 3 z m -5.521,-7.875 c -1.715,0 -2.679,1.223 -2.679,2.849 0,1.627 0.964,2.901 2.679,2.901 1.717,0 2.721,-1.241 2.721,-2.901 0,-1.706 -1.004,-2.849 -2.721,-2.849 z m -6.818,6.264 c -0.708,0.917 -2.166,1.736 -4.52,1.736 -3.14,0 -5.14,-2.08 -5.14,-5.347 0,-2.903 1.811,-4.903 5.228,-4.903 2.951,0 4.771,1.938 4.771,5.347 0,0.34 -0.055,0.678 -0.055,0.678 h -7.114 l 0.017,0.309 c 0.197,0.862 0.848,1.916 2.342,1.916 1.304,0 2.198,-0.701 2.602,-1.25 l 1.87,1.514 z m -2.548,-4.39 c 0.02,-1.054 -0.754,-2.124 -1.974,-2.124 -1.452,0 -2.227,1.134 -2.308,2.125 h 4.282 z" />
                                <path d="M 38,8 H 34.5 L 31,12 V 3 h -3 v 15 h 3 v -5 l 3.699,5 h 3.542 L 34,12.533 Z M 16,8 h 2.827 v 1.441 h 0.031 C 19.289,8.664 20.562,7.875 22.136,7.875 25.157,7.875 26,9.792 26,12.45 V 18 H 23 V 12.997 C 23,11.525 22.469,10.5 21.227,10.5 19.719,10.5 19,11.694 19,13.197 V 18 h -3 z m -5,10 h 3 V 8 H 11 Z M 12.501,6.3 a 1.8,1.8 0 1 0 0,-3.599 1.8,1.8 0 0 0 0,3.599 z M 3,3 H 0 V 18 H 9 V 15 H 3 Z" />
                              </g>
                            </g>
                          </g>
                        </g>
                      </g>
                    </svg>

                    {/* Apple Logo */}
                    <svg
                      width="30"
                      height="35"
                      viewBox="0 0 814 1000"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill="#707070"
                        d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-0.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76.5 0-103.7 40.8-165.9 40.8s-105.6-57-155.5-127C46.7 790.7 0 663 0 541.8c0-194.4 126.4-297.5 250.8-297.5 66.1 0 121.2 43.4 162.7 43.4 39.5 0 101.1-46 176.3-46 28.5 0 130.9 2.6 198.3 99.2zM554.1 159.4c31.1-36.9 53.1-88.1 53.1-139.3 0-7.1-0.6-14.3-1.9-20.1-50.6 1.9-110.8 33.7-147.1 75.8-28.5 32.4-55.1 83.6-55.1 135.5 0 7.8 1.3 15.6 1.9 18.1 3.2 0.6 8.4 1.3 13.6 1.3 45.4 0 102.5-30.4 135.5-71.3z"
                      />
                    </svg>

                    {/* Uber Logo */}
                    <svg
                      width="80"
                      height="35"
                      viewBox="0 0 926.906 321.777"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g>
                        <path
                          fill="#707070"
                          d="M53.328,229.809c3.917,10.395,9.34,19.283,16.27,26.664c6.93,7.382,15.14,13.031,24.63,16.948
                          c9.491,3.917,19.81,5.875,30.958,5.875c10.847,0,21.015-2.034,30.506-6.102s17.776-9.792,24.856-17.173
                          c7.08-7.382,12.579-16.194,16.496-26.438c3.917-10.244,5.875-21.692,5.875-34.347V0h47.453v316.354h-47.001v-29.376
                          c-10.545,11.147-22.974,19.734-37.285,25.761c-14.312,6.025-29.752,9.038-46.323,9.038c-16.873,0-32.615-2.938-47.228-8.813
                          c-14.612-5.875-27.267-14.235-37.962-25.082S15.441,264.006,9.265,248.79C3.088,233.575,0,216.628,0,197.947V0h47.453v195.236
                          C47.453,207.891,49.411,219.414,53.328,229.809z"
                        />
                        <path
                          fill="#707070"
                          d="M332.168,0v115.243c10.545-10.545,22.748-18.905,36.607-25.082s28.924-9.265,45.193-9.265
                          c16.873,0,32.689,3.163,47.453,9.49c14.763,6.327,27.567,14.914,38.414,25.761s19.434,23.651,25.761,38.414
                          c6.327,14.764,9.49,30.431,9.49,47.002c0,16.57-3.163,32.162-9.49,46.774c-6.327,14.613-14.914,27.343-25.761,38.188
                          c-10.847,10.847-23.651,19.434-38.414,25.761c-14.764,6.327-30.581,9.49-47.453,9.49c-16.27,0-31.409-3.088-45.419-9.265
                          c-14.01-6.176-26.288-14.537-36.833-25.082v28.924h-45.193V0H332.168z M337.365,232.746c4.067,9.642,9.717,18.078,16.948,25.309
                          c7.231,7.231,15.667,12.956,25.308,17.174c9.642,4.218,20.036,6.327,31.184,6.327c10.847,0,21.09-2.109,30.731-6.327
                          s18.001-9.942,25.083-17.174c7.08-7.23,12.729-15.667,16.947-25.309c4.218-9.641,6.327-20.035,6.327-31.183
                          c0-11.148-2.109-21.618-6.327-31.41s-9.867-18.303-16.947-25.534c-7.081-7.23-15.441-12.88-25.083-16.947
                          s-19.885-6.102-30.731-6.102c-10.846,0-21.09,2.034-30.731,6.102s-18.077,9.717-25.309,16.947
                          c-7.23,7.231-12.955,15.742-17.173,25.534c-4.218,9.792-6.327,20.262-6.327,31.41C331.264,212.711,333.298,223.105,337.365,232.746
                          z"
                        />
                        <path
                          fill="#707070"
                          d="M560.842,155.014c6.025-14.462,14.312-27.191,24.856-38.188s23.049-19.659,37.511-25.986
                          s30.129-9.49,47.001-9.49c16.571,0,31.937,3.013,46.098,9.038c14.16,6.026,26.362,14.387,36.606,25.083
                          c10.244,10.695,18.229,23.35,23.952,37.962c5.725,14.613,8.587,30.506,8.587,47.68v14.914H597.901
                          c1.507,9.34,4.52,18.002,9.039,25.985c4.52,7.984,10.168,14.914,16.947,20.789c6.779,5.876,14.462,10.471,23.049,13.784
                          c8.587,3.314,17.7,4.972,27.342,4.972c27.418,0,49.563-11.299,66.435-33.896l32.991,24.404
                          c-11.449,15.366-25.609,27.418-42.481,36.155c-16.873,8.737-35.854,13.106-56.944,13.106c-17.174,0-33.217-3.014-48.131-9.039
                          s-27.869-14.462-38.866-25.309s-19.659-23.576-25.986-38.188s-9.491-30.506-9.491-47.679
                          C551.803,184.842,554.817,169.476,560.842,155.014z M624.339,137.162c-12.805,10.696-21.316,24.932-25.534,42.708h140.552
                          c-3.917-17.776-12.278-32.012-25.083-42.708c-12.805-10.695-27.794-16.043-44.967-16.043
                          C652.133,121.119,637.144,126.467,624.339,137.162z"
                        />
                        <path
                          fill="#707070"
                          d="M870.866,142.359c-9.641,10.545-14.462,24.856-14.462,42.934v131.062h-45.646V85.868h45.193v28.472
                          c5.725-9.34,13.182-16.722,22.371-22.145c9.189-5.424,20.111-8.136,32.766-8.136h15.817v42.482h-18.981
                          C892.86,126.542,880.507,131.814,870.866,142.359z"
                        />
                      </g>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      }

      ReactDOM.render(<PMResumeRefiner />, document.getElementById("root"));
    </script>
  </body>
</html>
